<!DOCTYPE html>
<html lang="en" class="[scrollbar-gutter:stable]">
<head> 
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="csrf-token" content={get_csrf_token()} />
  <.live_title default="ZK Games">
    Zk Games!
  </.live_title>
  <link phx-track-static rel="stylesheet" href={~p"/assets/app.css"} />
  <script defer phx-track-static type="text/javascript" src={~p"/assets/app.js"}>
  </script>
  <script type="text/javascript">
    window.$crisp=[];
    window.CRISP_WEBSITE_ID="01c845e9-d8cd-4b06-ab7d-dd0e25baa513";
    (function(){
      d=document;
      s=d.createElement("script");
      s.src="https://client.crisp.chat/l.js";
      s.async=1;
      d.getElementsByTagName("head")[0].appendChild(s);
    })();
  </script>

</head>

<style>
  .btn-connect-container {
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 1000;
  }

  .btn-connect {
    background-color: rgb(72, 205, 76);
    color: white;
    border: none;
    padding: 8px 16px;
    font-size: 14px;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.2s ease;
  }

  .btn-connect:hover {
    background-color: #45a049;
  }
</style>

<body class="bg-white font-mono antialiased">
  <div class="btn-connect-container">
    <button class="btn-connect" phx-click="toggle_wallet_form">
      Conectar Wallet
    </button>
  </div>

  <div class="min-h-screen w-full mx-auto flex flex-col items-center justify-center px-4 text-center">
    <h1 class="text-2xl md:text-5xl font-semibold mb-2">
      Aligned Genesis Drop Claim
    </h1>

    <div class="my-8">
      <a href="/terms-conditions" class="underline text-lg md:text-xl">
        Claim!
      </a>
    </div>

    <div class="mt-3 text-sm md:text-base">
      Tokens are claimable via your Ethereum wallet.
    </div>

    <div class="text-center py-4 md:py-10 px-2 md:px-4 leading-6">
      <h6 class="text-xl md:text-xl font-semibold mt-6">WTF is Aligned</h6>
      <p class="font-light text-gray-600">
        Aligned Layer is a
        <span class="font-bold text-black">
          <mark class="bg-green-400 p-1">ZK verification layer</mark>
        </span>
        that can process thousands of transactions per second,
        <span class="font-bold text-black">
          <mark class="bg-green-400 p-1">10x cheaper</mark>
        </span>
        than Ethereum.
      </p>

      <p class="font-light text-gray-600">
        The future of crypto is going to be built with ZK. Proofs will be verified in Aligned.
      </p>

      <h6 class="text-xl md:text-xl font-semibold mt-6">Tokenomics</h6>
      <p class="font-light text-gray-600">
        The ALIGN token will be used for securing and paying fees for the Aligned Network. You can learn
        more via visiting the
        <a target="_blank" href="https://blog.alignedlayer.com/aligned-align-tokenomics-and-roadmap/" class="underline">
          tokenomics blog
        </a>.
      </p>

      <a
        href="https://blog.alignedlayer.com/aligned-manifesto/"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-block mt-4 underline font-bold"
      >
        Aligned Manifesto
      </a>

      <div class="relative mb-2 text-sm md:text-base pt-4">
        If you find a security bug, please contact us at
        <a href="mailto:security@alignedfoundation.org" class="underline">
          security@alignedfoundation.org
        </a>
        or by
        <a
          href="https://t.me/aligned_layer"
          target="_blank"
          rel="noopener noreferrer"
          class="underline"
        >
          Telegram
        </a>
        and
        <a
          href="https://x.com/AlignedFndn"
          target="_blank"
          rel="noopener noreferrer"
          class="underline"
        >
          Twitter
        </a>.
      </div>

      <h6 class="text-lg md:text-xl font-semibold mt-6">Follow the Aligned Founders:</h6>
      <ul class="founders-list mt-3 space-y-2">
        <li><a href="https://x.com/fede_intern" target="_blank" class="text-gray-700 hover:text-blue-600 underline">@fede_intern</a></li>
        <li><a href="https://x.com/rj_aligned" target="_blank" class="text-gray-700 hover:text-blue-600 underline">@rj_aligned</a></li>
        <li><a href="https://x.com/mauroAligned" target="_blank" class="text-gray-700 hover:text-blue-600 underline">@mauroAligned</a></li>
        <li><a href="https://x.com/diego_aligned" target="_blank" class="text-gray-700 hover:text-blue-600 underline">@diego_aligned</a></li>
        <li><a href="https://x.com/alignedlayer" target="_blank" class="text-gray-700 hover:text-blue-600 underline">@alignedlayer</a></li>
        <li><a href="https://x.com/AlignedFndn" target="_blank" class="text-gray-700 hover:text-blue-600 underline">@AlignedFndn</a></li>
        <li>
          And join our community in our
          <a
            href="https://discord.com/invite/alignedlayer"
            target="_blank"
            class="text-gray-700 hover:text-blue-600 underline"
          >
            Discord Server
          </a>
        </li>
      </ul>
    </div>
  </div>

<%= if @show_wallet_form do %>
  <div class="p-6 bg-white border border-gray-300 shadow-lg rounded max-w-xl mx-auto mt-10">

    <div class="">
      <%= if Map.has_key?(@conn.assigns, :wallet) && @conn.assigns.wallet do %>
        <h1 class="text-2xl md:text-4xl font-semibold mb-2 pb-6">Claim your tokens!</h1>
        <%!-- We show the wallet address retrived --%>
        <h3 class="pb-4">1. Check your claiming info</h3>
        <div class="border border-gray-300 p-4 mb-6 inline-block">
          <div>
            <div class="font-semibold mb-2">
              Wallet address:
            </div>
            <div class="px-4 mb-6">
              {@conn.assigns.wallet.address}
            </div>
            <div class="font-semibold mb-2">
              Network:
            </div>
            <div class="px-4 mb-6">
              <%= if Application.get_env(:aligned_airdrop, :network) == "anvil" do %>
                Anvil (Local)
              <% end %>
              <%= if Application.get_env(:aligned_airdrop, :network) == "sepolia" do %>
                Sepolia (Testnet)
              <% end %>
              <%= if Application.get_env(:aligned_airdrop, :network) == "mainnet" do %>
                Ethereum Mainnet
              <% end %>
            </div>
            <div class="font-semibold mb-2">
              Tokens to claim:
            </div>
            <div class=" px-4 mb-2">
              <mark class="bg-green-400 p-1">
                {@conn.assigns.wallet.amount |> String.slice(0..-19//1)} $ALIGN
              </mark>
            </div>
          </div>
        </div>
        <h3 class="pb-2">2. Check status and Claim</h3>
        <x-app-send-claim
          network={Application.get_env(:aligned_airdrop, :network)}
          proxy_contract_address={Application.get_env(:aligned_airdrop, :proxy_contract_address)}
          merkle_proof={@conn.assigns.wallet.merkle_proof}
          amount={@conn.assigns.wallet.amount}
        />
      <% else %>
        <%!-- We show the check claim page --%>
        <h1 class="text-2xl md:text-4xl font-semibold mb-2 pb-6">
          Check your claim
        </h1>
        <%= if Map.has_key?(@conn.assigns, :error) do %>
          <%!-- We show that you are not elegible --%>
          <div class="text-red-500 font-semibold mb-2">
            {@conn.assigns.error} :(
          </div>
        <% else %>
          <%!-- We show the check claim form --%>
          <x-app-check-claim network={Application.get_env(:aligned_airdrop, :network)} />
        <% end %>
      <% end %>
    </div>

  </div>
<% end %>

  <%= if Application.get_env(:aligned_airdrop, :execution_env) == :prod do %>
    <!-- 100% privacy-first analytics -->
    <script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
  <% end %>
</body>
</html>
